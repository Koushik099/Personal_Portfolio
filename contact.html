<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio || Contact</title>
    <link rel="stylesheet" href="CSS/style.css" />
    <link rel="stylesheet" href="CSS/contact.css" />

    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- fav icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="favicon_io//favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="favicon_io//favicon-16x16.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
  </head>
  <body>
    <!-- Navbar ðŸ˜Ž -->
    <header class="header">
      <div class="img">
        <a href="#">
          <h1>&nbsp;KOUSHIK&nbsp; SAHA&nbsp;</h1>
        </a>
      </div>
      <nav class="navbar">
        <ul class="navbar-list">
          <li><a class="navbar-link" href="index.html">Home</a></li>
          <li><a class="navbar-link" href="about.html">About</a></li>
          <li><a class="navbar-link active" href="#">Contact</a></li>
          <li><a class="navbar-link" href="project.html">All Projects</a></li>
        </ul>
      </nav>
      <div class="mobile-navbar-btn">
        <ion-icon class="mobile-nav-icon" name="menu-outline"></ion-icon>
        <ion-icon class="mobile-nav-icon" name="close-outline"></ion-icon>
      </div>
    </header>

    <!-- Hero-Section ðŸ˜ŽðŸ˜Ž -->

    <div class="main">
      <div class="container">
        <div class="left">
          <!-- Address-section -->
          <div class="details">
            <h1>Name: <a href="/" class="name"> Koushik Saha </a></h1>
            <h4>
              Address:
              <p>D-155, Noida, Sector-49, Uttar Pradesh, 201304</p>
            </h4>

            <h4>Contact: <a class="white">+91-8637538774</a></h4>
            <h4>
              GitHub:
              <a href="https://github.com/KoushikwebDev"
                >https://github.com/KoushikwebDev</a
              >
            </h4>
            <h4>
              Email:
              <a href="mailto:koushikwebdevv@gmail.com" target="_blank"
                >koushikwebdevv@gmail.com</a
              >
            </h4>
          </div>
        </div>
        <div class="right">
          <!-- Form-Section -->
          <div class="formDetails">
            <form>
              >
              <label for="">Your Name :</label>
              <input type="text" name="YourName " id="name" /> <br />
              <label for="">Your Email :</label>
              <input type="email" name="YourEmail " id="email" /> <br />
              <label for="">Your Message :</label>
              <textarea
                name="YourMessage "
                id="message"
                cols="20"
                rows="7"
                id="message"
              ></textarea>
              <br />
              <button id="submit" class="submitBtn">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script src="/JS/index.js"></script>

    <script type="text/javascript">
      const userName = document.getElementById("name");
      const email = document.getElementById("email");
      const message = document.getElementById("message");
      const submitBtn = document.getElementById("submit");

      // console.log(userName, email, message.value);

      submitBtn.addEventListener("click", (e) => submitUserData(e));

      const submitUserData = async (e) => {
        e.preventDefault();

        if (!(userName.value || email.value || message.value)) {
          alert("Please fill all input fields");
          return;
        }
        submitBtn.innerText = "Submitting...";

        let userData = {
          name: userName.value,
          email: email.value,
          message: message.value,
        };

        let databaseName = "PortfolioUserData";
        try {
          let res = await fetch(
            `https://fir-demo-project-917b1-default-rtdb.firebaseio.com/${databaseName}.json`,
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                ...userData,
              }),
            }
          );
          // console.log(res);
          submitBtn.innerText = "Submit";

          email.value = "";
          userName.value = "";
          message.value = "";
          alert("Your Message Submitted Successfully");
        } catch (error) {
          submitBtn.innerText = "Submit";

          alert("Message not sent, Please try again");
          console.log(error.message);
        }
      };
    </script>
  </body>
</html>
